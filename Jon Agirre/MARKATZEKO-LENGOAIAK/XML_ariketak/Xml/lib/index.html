<!doctype html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Kotxeak</title>
        <script>
            function kotxeakErakutsi()
            {
                var httpRequest = new XMLHttpRequest();
                httpRequest.onreadystatechange = function(){
                    if(httpRequest.readyState == 4)
                    {
                        if(httpRequest.status == 200)
                            xml = httpRequest.responseXML;
                        else{
                            xml = false;
                            document.getElementById("kotxeak").innerHTML = "Errorea: " + httpRequest.status;
                        }
                    }
                }
                httpRequest.open("GET", "kotxeak.xml", false);
                httpRequest.send("");

                httpRequest.onreadystatechange = function(){
                    if(httpRequest.readyState == 4)
                    {
                        if(httpRequest.status == 200)
                            xsl = httpRequest.responseXML;
                        else{
                            xsl = false;
                            document.getElementById("kotxeak").innerHTML = "Errorea: " + httpRequest.status;
                        }
                    }
                }

                httpRequest.open("GET", "kotxeak.xsl", false);
                httpRequest.send("");

                if(xml != false && xsl != false)
                {
                    xsltProcessor = new XSLTProcessor();

                    xsltProcessor.importStylesheet(xsl);

                    emaitza = xsltProcessor.transformToFragment(xml, document);

                    document.getElementById("kotxeak").appendChild(emaitza);
                }
            }
        </script>
    </head>
    <body onload="kotxeakErakutsi()">
        <h1>Kotxeak</h1>
        <div id="kotxeak"></div>
    </body>
</html>